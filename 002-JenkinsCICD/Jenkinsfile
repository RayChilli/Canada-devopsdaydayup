pipeline {
    agent any 
    environment{
        registryUrl = "<dockerhub-username>/<repo-name>"
        registryCredentialsId = '<dockerhub-credential-name>'        
        commitID = sh(script: 'git rev-parse --short HEAD', returnStdout:true).trim()
        commitIDDescribe = sh(script: 'git describe --always', returnStdout:true).trim()
    }
    stages {
        stage('Build Image') { 
            steps {
                // 
                echo commitID
                echo commitIDDescribe
            }
        }
        stage('Test') { 
            steps {
                // 
                echo "This is Test"
            }
        }
        stage('Deploy') { 
            steps {
                // 
                echo "This is Deploy"
            }
        }
    }
}
